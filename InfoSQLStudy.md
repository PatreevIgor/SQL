## Пример с использованием BETWEEN:
[диапазаон, между, between]

WHERE prod_price BETWEEN 5 AND 10;
------------------------------------------------------------------------------------------------------------------------
## Провека на NULL:
[пустое значение, null]

WHERE prod_price IS NULL;
------------------------------------------------------------------------------------------------------------------------
## Пример с AND
[двойное условие, sql "и"]

WHERE vend_id = 'DLL01' AND prod_price < = 4;
------------------------------------------------------------------------------------------------------------------------
## Пример с OR
[двойное условие, sql "или"]

WHERE vend_id = 'DLL01' OR vend_id = 'BRS01'
------------------------------------------------------------------------------------------------------------------------
## Пример с OR и AND

WHERE (vend_id = 'DLL01' OR vend_id = 'BRS0l')
AND prod_price >= 10;

Возможная ошибка:
[приоритет OR и AND]

WHERE vend_id = 'DLL01' OR vend_id = 'BRS01'
AND prod_price > = 10;
Описание: выбрать все продукты, которые стоят $10 и больше, изготовленные производителем BRS01, и все продукты, изготовленные производителем DLL01 независимо от их цены
------------------------------------------------------------------------------------------------------------------------
## Пример с IN
[включаются в коллекцию]

WHERE vend_id IN ('DLL01', 'BRS01')
------------------------------------------------------------------------------------------------------------------------
## Пример с NOT
[отрицание условия]

WHERE NOT vend_id = 'DLL01'
------------------------------------------------------------------------------------------------------------------------
## Пример с LIKE и знаком процента (%)
[Like, схож с, похож на, метасимволы sql, sql метасимволы]

WHERE prod_name LIKE 'Fish%';

Доп.инфа: 
символ подчеркивания (_) - учитывается только 1 символ
WHERE prod_name LIKE '__ inch teddy bear';

Символ квадратые скобки - поиск всех контактных лиц, имена которых начинаются на одну из указанных в скобках букв
WHERE cust_contact LIKE '[JM]%
WHERE cust_contact LIKE '[^JM]%' - обратная выборка

-_
------------------------------------------------------------------------------------------------------------------------
## Конкатенация
[Объединение 2 строк]

Оператор + или || или CONCAT (),
Примеры:
SELECT vend_name + '(' + vend_country + ')'           - СУБД Access, SQL Server и Sybase
SELECT vend_name || '(' || vend_country || ')'        - СУБД DB2, Oracle, PostgreSQL и Sybase
SELECT CONCAT(vend_name, ' (', vend_country, ')')     - В MySQL

В MySQL || является эквивалентом логического оператора OR, a && – эквивалентом логического оператора AND.
TRIM - функция обрезания строки справа или слева
Пример:
SELECT RTRIM(vend_name) + ' (' + RTRIM(vend_country) + ') '
SELECT RTRIM(vend_name) | | ' (' | | RTRIM(vend_country) | | ') '

-_
------------------------------------------------------------------------------------------------------------------------
## Псевдонимы в конкатенации (AS)
[объединение 2 строк в 1, создание псевдонима]

Пример:
SELECT RTRIM(vend_name) + ' (' + RTRIM(vend_country) + ') ' AS vend_title
------------------------------------------------------------------------------------------------------------------------
## Производные столбцы
[умножение двух столбцов, перемножение значений двух столбцов]

Пример:
SELECT prod_id, quantity, item_price, quantity*item_price AS expanded_price
--*
------------------------------------------------------------------------------------------------------------------------
## Функции манипулирования текстом
[текстовые функции]

Функция                                     Описание
LEFT () (или функция подстроки)             Возвращает символы из левой части строки
LENGTH (а также DATALENGTH () ИЛИ LEN () )  Возвращает длину строки
LOWER()                                     Преобразует строку в нижний регистр
LTRIM () (LCASE () в Access)                Удаляет пробелы в левой части строки
RIGHTO (или функция подстроки)              Возвращает символы из правой части строки
RTRIMO                                      Удаляет пробелы в правой части строки
SOUNDEX ()                                  Возвращает значение SOUNDEX строки
UPPER () (UCASE в Access)                   Преобразует текст строки в верхний регистр

Пример:
WHERE SOUNDEX(cust_contract) = SOUNDEX('Michael Green ');
------------------------------------------------------------------------------------------------------------------------
## Функции манипулирования датой и временем
[функции даты и времени]

Пример:
WHERE DATEPART(yy, order_date) = 2004;      -- SQL Server и Sybase
WHERE DATEPART ('yyyy', order_date) = 2004; -- Access
WHERE DATE_PART('year', order_date) = 2004; -- PostgreSQL
WHERE YEAR(order_date) = 2004;              -- MySQL
WHERE order_date BETWEEN 
to_date('01-JAN-2004')AND
to date('31-DEC-2004');                     -- MySQL
------------------------------------------------------------------------------------------------------------------------
## Функции для манипулирования числами
[функции для чисел]

ABS ()  Возвращает абсолютное значение числа
COS ()  Возвращает косинус указанного угла
ЕХР ()  Возвращает экспоненту указанного числа
PI ()   Возвращает значение числа пи
SIN ()  Возвращает синус указанного угла
SQRT () Возвращает квадратный корень указанного числа
TAN ()  Возвращает тангенс указанного угла
------------------------------------------------------------------------------------------------------------------------
## Статистические SQL-функции

AVG ()   Возвращает среднее значение столбца
COUNT () Возвращает число строк в столбце
МАХ ()   Возвращает самое большое значение в столбце
MIN ()   Возвращает самое маленькое значение в столбце
SUM ()   Возвращает сумму значений столбца

Примеры:
SELECT AVG(prod_price) AS avg_price
SELECT COUNT(*)
--*
------------------------------------------------------------------------------------------------------------------------
## Создание групп

SELECT vend_id, COUNT(*) AS num_prods
FROM Products
GROUP BY vend_id;
--*

Фильтрующие группы
WHERE фильтрует строки, a HAVING – группы.

Пример:
SELECT cusC_id, COUNT)*) AS orders
FROM Orders
GROUP ВУ cust_id
HAVING COUNT(*) >= 2;
------------------------------------------------------------------------------------------------------------------------
## Группирование и сортировка

ORDER BY и 
GROUP BY - не сортирует данные

Пример:
SELECT order_num, COUNT(*) AS items
FROM OrderItems
GROUP BY order_num
HAVING COUNT(*) >= 3;
ORDER BY items, order_num;
------------------------------------------------------------------------------------------------------------------------
## Подзапросы
[вложенные запросы, подчиченные запросы]

Пример:
SELECT CUSt_id
FROM Orders
WHERE order_num IN (SELECT order_num
FROM OrderIterns
WHERE prod_id = 'RGAN01');
------------------------------------------------------------------------------------------------------------------------
## Выборка из нескольких таблиц
[выборка из двух таблиц]

SELECT vend_name, prod_name, prod_price
FROM Vendors, Products
WHERE Vendors.vend_id = Products.vend_id;
------------------------------------------------------------------------------------------------------------------------
## Внутренне объединение таблиц
[INNER JOIN]

SELECT vend_name, prod_name, prod_price
FROM Vendors INNER JOIN Products
ON Vendors.vend_id = Produces.vend_id;
------------------------------------------------------------------------------------------------------------------------
## Внешнее объединение таблиц
[райт лефт джойны, RIGHT JOIN, LEFT JOIN]

Пример LEFT JOIN:
Таблица Authors:
|AuthorID| AuthorName      |
|--------|-----------------|
|1       | Bruce Eckel     |
|2       | Robert Lafore   |
|3       | Andrew Tanenbaum|

Таблица Books:
|BookID|  BookName              |
|------|------------------------|
|3     | Modern Operating System|
|1     | Thinking in Java       |
|3     | Computer Architecture  |
|4     | Programming in Scala   |

SELECT * FROM Authors LEFT JOIN Books
ON Authors.AuthorID = Books.BookID

или

SELECT * FROM Authors,Books
where Authors.AuthorID = Books.BookID(+)

Результат:
|Authors.AuthorID|Authors.AuthorName|Books.BookID|Books.BookName         |
|----------------|------------------|------------|-----------------------|
|1               |Bruce Eckel       |1           |Thinking in Java       |
|2               |Robert Lafore     |NULL        |NULL                   |
|3               |Andrew Tanenbaum  |3           |Modern Operating System|
|3               |Andrew Tanenbaum  |3           |Computer Architecture  |

Ссылка с примером: http://2sql.ru/novosti/sql-left-join/
------------------------------------------------------------------------------------------------------------------------
## Полное внешнее объединение
[фул оутер джойн]

SELECT Customers.cust_id, Orders.order_num
FROM Orders FULL OUTER JOIN Customers
ON Orders.cust_id = Customers.cust_id;
Пояснение: полное внешнее объединение включает в результат несвязанные строки из обеих таблиц
------------------------------------------------------------------------------------------------------------------------
## Комбинированные запросы
[union, объединение запросов]

SELECT cust_name, cust_contact, cust_email
FROM Customers
WHERE cust_state IN ('IL' , 'IN', 'MI')
UNION
SELECT cust_name, cust_contact, cust_email
FROM Customers
WHERE cust_name = 'Fun4All';

Запрос UNION автоматически удаляет все повторяющиеся строки.
EXCEPT    - для чтения строк, которые существуют в первой таблице
INTERSECT - для чтения строк, которые имеются в обеих таблицах
------------------------------------------------------------------------------------------------------------------------
## Добавление данных
[создание записи в бд, добалвение записи]

INSERT INTO Customers(cust_id,
cust_name,
cust_address,
cust_city, cust_state,
cust_ZIP,
cust_country,
cust_contact,
cus,t_email) VALUES('1000000006',
'Toy Land',
'123 Any Street',
'New York',
'NYJ' ,
'11111', 'USA',
NULL,
NULL);
------------------------------------------------------------------------------------------------------------------------
## Копировние таблиц

SELECT *
INTO CustCopy
FROM Customers;
------------------------------------------------------------------------------------------------------------------------
## Обновление данных

UPDATE Customers
SET cust_email = ' kim@thetoystore.com'
WHERE cust_id = '1000000005';
------------------------------------------------------------------------------------------------------------------------
## Удаление данных

DELETE FROM Customers
WHERE cust_id = '1000000006';
------------------------------------------------------------------------------------------------------------------------
## Создания таблиц

CREATE TABLE Products
(
prod_id CHAR(10) NOT NULL,
vend_id CHAR(10) NOT NULL,
prod_name CHAR(254) NOT NULL,
prod_price DECIMAL(8,2) NOT NULL,
prod_desc VARCHAR(IOOO) NULL
) ;
------------------------------------------------------------------------------------------------------------------------

